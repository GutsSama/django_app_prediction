{% load static %}

<!-- Navigation -->
<nav class="bg-white shadow-md w-full top-0">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <!-- Logo / Nom -->
      <div class="flex items-center">
        <a href="{% url 'accueil' %}" class="flex items-center">
          <i class="fas fa-shield-alt text-3xl text-purple-600 mr-3"></i>
          <span class="text-2xl font-bold text-gray-800">PrimePredict</span>
        </a>
      </div>
      
      <!-- Navigation avec Tabs (du premier header) -->
      <div class="hidden md:flex items-center flex-grow">
        <div role="tablist" class="tabs tabs-border">
          {% if user.is_authenticated %}
          <a role="tab" class="tab mr-3 {% if request.resolver_match.url_name == 'accueil' %}tab-active{% endif %}" href="{% url 'accueil' %}"><strong>Accueil</strong></a>
          <a role="tab" class="tab mr-3 {% if request.resolver_match.url_name == 'predict' %}tab-active{% endif %}" href="{% url 'predict' %}"><strong>Prediction</strong></a>
          {% endif %}
          {% if user.is_authenticated and not user.is_conseiller %}
          <a role="tab" class="tab mr-3 {% if request.resolver_match.url_name == 'profile' %}tab-active{% endif %}" href="{% url 'profile' %}"><strong>Profile</strong></a>
          <a role="tab" class="tab mr-3 {% if request.resolver_match.url_name == 'appointments' %}tab-active{% endif %}" href="{% url 'appointments' %}"><strong>Rendez-vous</strong></a>
          {% endif %}
          {% if user.is_authenticated and user.is_conseiller %}
          <a role="tab" class="tab mr-3 {% if request.resolver_match.url_name == 'counselor_appointments' %}tab-active{% endif %}" href="{% url 'counselor_appointments' %}"><strong>Mes rendez-vous</strong></a>
          {% endif %}
        </div>
      </div>
      
      <!-- Boutons de droite (du deuxième header) -->
      <div class="flex items-center gap-3">
        {% if user.is_authenticated %}
        <form method="post" action="{% url 'logout' %}" class="m-0">
          {% csrf_token %}
          <button
            type="submit"
            class="px-4 py-2 text-purple-600 border border-purple-600 rounded-lg hover:bg-purple-50 transition"
          >
            Déconnexion
          </button>
        </form>
        {% else %}
        {% if request.path != "/login/" %}
        <a
          href="{% url 'login' %}"
          class="btn-primary px-4 py-2 text-white rounded-lg hover:scale-105 transition"
        >
          Connexion
        </a>
        {% endif %} 
        {% if request.path != "/signup/" %}
        <a
          href="{% url 'signup' %}"
          class="btn-primary px-4 py-2 text-white rounded-lg hover:scale-105 transition"
        >
          Inscription
        </a>
        {% endif %} 
        {% endif %}
      </div>
    </div>
  </div>
</nav>